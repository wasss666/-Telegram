# Telegram-Downloader

Цей проєкт є Telegram-ботом, який обходить захист від скачування та пересилання файлів у чатах та групах. Бот надає можливість вибрати потрібний вам чат і користувача, який там знаходиться, та викачати медіафайли, які він відправляв у чат. Бот використовує бібліотеку Telethon для взаємодії з Telegram та aiohttp для здійснення HTTP-запитів.

## Зміст

- [Встановлення](#встановлення)
- [Конфігурація](#конфігурація)
- [Особливості](#особливості)
- [Внесок у розробку](#внесок-у-розробку)
- [Детальний Опис Коду](#детальний-опис-коду)

## Встановлення

1. Встановіть необхідні залежності:
   ```bash
   pip install telethon==1.35.0 aiohttp==3.9.5 pytelegrambotapi==4.18.1
   ```

2. Створіть файл сесії для клієнта Telethon:
   ```bash
   touch session_name.session
   ```

## Конфігурація

Перед запуском бота потрібно налаштувати його з вашими API-кредитами та токеном бота.

1. Відкрийте файл `tgdownloader0.1.py` і оновіть наступні змінні вашими значеннями:
   ```python
   api_id = 'YOUR_API_ID'
   api_hash = 'YOUR_API_HASH'
   phone_number = 'YOUR_PHONE_NUMBER'

   bot_token = 'YOUR_BOT_TOKEN'
   admin_id = 'YOUR_ADMIN_ID'
   ```

2. Збережіть зміни.

### Взаємодія з ботом

1. **Запуск бота:**
   Відправте команду `/start` боту з чату адміністратора.

2. **Введіть ID чату:**
   Бот попросить вас ввести ID чату, з якого ви хочете пересилати медіа.

3. **Введіть ID користувача:**
   Після введення ID чату, бот попросить вас ввести ID користувача, медіафайли якого ви хочете пересилати.

4. **Пересилання медіа:**
   Бот почне пересилати медіафайли з вказаного чату та користувача до чату адміністратора.

## Особливості

- **Обхід захисту від завантаження:** Бот обходить захист від скачування та пересилання файлів у чатах та групах.
- **Вибір чату та користувача:** Надає можливість вибрати потрібний чат і користувача, який там знаходиться, та викачати медіафайли, які він відправляв у чат.
- **Пересилання медіафайлів:** Автоматично пересилає фотографії, відео та документи з вказаного чату та користувача.
- **Сповіщення адміністратора:** Відправляє сповіщення адміністратору щодо прогресу та будь-яких помилок, що виникли під час процесу.
- **Підтримка різних типів медіа:** Обробляє фотографії, відео, документи та відео повідомлення.

## Внесок у розробку

Код не є ідеальним і я радий, якщо хтось буде його покращувати! Будь-який внесок вітається! Будь ласка, дотримуйтесь цих кроків, щоб внести свій внесок:

1. Форкніть репозиторій.
2. Створіть нову гілку (`git checkout -b feature-branch`).
3. Внесіть свої зміни.
4. Зафіксуйте свої зміни (`git commit -am 'Add new feature'`).
5. Відправте на гілку (`git push origin feature-branch`).
6. Створіть pull request.

## Детальний Опис Коду

Скрипт бота складається з кількох частин:

1. **Імпорти:**
   Імпортуйте необхідні бібліотеки та модулі, такі як `asyncio`, `telethon`, `aiohttp`, і `telegram.ext`.

2. **Конфігураційні змінні:**
   Налаштуйте API ID, API hash, номер телефону, токен бота та ID адміністратора.

3. **Ініціалізація клієнтів:**
   Ініціалізуйте клієнта Telethon та клієнта Telegram бота.

4. **Допоміжні функції:**
   - `send_admin_message`: Відправляє повідомлення до чату адміністратора.
   - `forward_media_from_chat`: Отримує повідомлення з вказаного чату та пересилає медіафайли.
   - `forward_photo`, `forward_document`, `forward_video`, `forward_video_note`: Обробляють пересилання різних типів медіафайлів.

5. **Запуск клієнта:**
   - `start_client`: Запускає клієнта Telethon та обробляє автентифікацію.

6. **Обробники команд бота:**
   - `start`: Обробляє команду `/start` від адміністратора.
   - `handle_message`: Обробляє текстові повідомлення від адміністратора для введення ID чату та користувача.

7. **Основні функції:**
   - `main`: Організовує запуск та процес пересилання медіафайлів.
   - `main_bot`: Налаштовує обробники команд бота та запускає цикл опитування.

8. **Точка входу:**
   Скрипт запускає бота викликом `main_bot`, якщо він виконується як головний модуль.

Замініть заповнювачі на ваші фактичні значення та переконайтеся, що всі залежності встановлені. Не соромтеся модифікувати та розширювати функціональність за потреби.
